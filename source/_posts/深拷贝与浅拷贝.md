---
title: 浅拷贝与深拷贝
date: 2020-03-15 17:33:00
---

> ## 1.克隆
```js
// 赋值（基本类型的“=”） 与 赋址（）
// 对基本类型的克隆
var a = null   var aa = a   // => null
var b = 123    var bb = b   // => 123
var c = undefined  var cc = c  // =>  undefined
var d = Symbol('zhbo')  var dd = d  // => Symbol('zhbo')

// 对数组的克隆
var arr = [10, 20, 30]
var arr1 = [...arr]
var arr2 = arr.concat()
// arr1、arr2是新数组，在内存中开辟了自己的内存

```

> ## 2.浅拷贝

<code>创建一个新对象，这个对象有着原始对象属性值的一份精确拷贝。如果属性是基本类型，拷贝的就是基本类型的值，如果属性是引用类型，拷贝的就是内存地址，所以如果其中一个对象改变了这个地址，就会影响到另一个对象。</code>
```js
Object.assign(target, ...source) // 是一个浅拷贝。
```
```js
var a = {
  name: 'aa',
  b: {
    name: 'bb',
    color: 'red',
    age: 123
  }
}

// 通过for...in...也能实现一个浅拷贝
var newObj = {}  // 【踩坑过】 --这里注意：定义一个空对象时，不能var newObj这样声明，而要把={}也加上。
for(k in a) {
  newObj[k] = a[k]
}

```

> ## 3.深拷贝

<code>将一个对象从内存中完整的拷贝一份出来，从堆内存中开辟一个新的区域存放新对象，且修改新对象不会影响原对象。</code>
